<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elige tu paÃ­s â€“ Calculando</title>
  <link rel="stylesheet" href="/css/calculando.css">
</head>
<body>
  <main style="max-width:520px;margin:40px auto;padding:0 16px;">
    <header style="display:flex;align-items:center;gap:12px;justify-content:space-between;">
      <div class="logo-block">
        <div class="logo-mark">C</div>
        <div class="logo-text">
          <strong>Calculando</strong>
          <span>Elige dÃ³nde quieres navegar</span>
        </div>
      </div>

      <div style="display:flex;align-items:center;gap:14px;">
        <button id="themeToggle" class="theme-toggle" type="button">
          <span class="theme-toggle-icon" id="themeIcon">ğŸŒ™</span>
          <span id="themeLabel">Modo oscuro</span>
        </button>

        <a href="/seleccionar-pais/" id="changeCountryLink"
           style="font-size:13px;color:var(--primary);text-decoration:underline;white-space:nowrap;">
          Cambiar paÃ­s
        </a>
      </div>
    </header>

    <section class="shell" style="margin-top:18px;">
      <div class="tool-title">Elige tu paÃ­s</div>
      <div class="tool-subtitle" style="margin-top:8px;">Esto ajusta las calculadoras y la navegaciÃ³n.</div>

      <div style="display:grid;gap:12px;margin-top:16px;">
        <button id="btnChile" class="pill" style="justify-content:center;">ğŸ‡¨ğŸ‡± Chile</button>
        <button id="btnMexico" class="pill" style="justify-content:center;">ğŸ‡²ğŸ‡½ MÃ©xico</button>
        <button id="btnBrasil" class="pill" style="justify-content:center;">ğŸ‡§ğŸ‡· Brasil</button>
        <button id="btnArgentina" class="pill" style="justify-content:center;">ğŸ‡¦ğŸ‡· Argentina</button>
        <button id="btnPeru" class="pill" style="justify-content:center;">ğŸ‡µğŸ‡ª PerÃº</button>
        <button id="btnColombia" class="pill" style="justify-content:center;">ğŸ‡¨ğŸ‡´ Colombia</button>
        <button id="btnParaguay" class="pill" style="justify-content:center;">ğŸ‡µğŸ‡¾ Paraguay</button>
        <button id="btnUruguay" class="pill" style="justify-content:center;">ğŸ‡ºğŸ‡¾ Uruguay</button>
        <button id="btnEcuador" class="pill" style="justify-content:center;">ğŸ‡ªğŸ‡¨ Ecuador</button>
        <button id="btnVenezuela" class="pill" style="justify-content:center;">ğŸ‡»ğŸ‡ª Venezuela</button>
        <button id="btnPanama" class="pill" style="justify-content:center;">ğŸ‡µğŸ‡¦ PanamÃ¡</button>
        <button id="btnCostaRica" class="pill" style="justify-content:center;">ğŸ‡¨ğŸ‡· Costa Rica</button>
        <button id="btnNicaragua" class="pill" style="justify-content:center;">ğŸ‡³ğŸ‡® Nicaragua</button>
      </div>
    </section>
  </main>

  <script src="/js/theme-toggle.js"></script>
  <script>
    (function setupCountrySelectionStandalone() {
      const REGION_KEY = 'tc_region';

      const buttons = {
        cl: document.getElementById('btnChile'),
        mx: document.getElementById('btnMexico'),
        br: document.getElementById('btnBrasil'),
        ar: document.getElementById('btnArgentina'),
        pe: document.getElementById('btnPeru'),
        co: document.getElementById('btnColombia'),
        py: document.getElementById('btnParaguay'),
        uy: document.getElementById('btnUruguay'),
        ec: document.getElementById('btnEcuador'),
        ve: document.getElementById('btnVenezuela'),
        pa: document.getElementById('btnPanama'),
        cr: document.getElementById('btnCostaRica'),
        ni: document.getElementById('btnNicaragua'),
      };

      const routes = {
        cl: '/cl/',
        mx: '/mx/',
        br: '/br/',
        ar: '/ar/',
        pe: '/pe/',
        co: '/co/',
        py: '/py/',
        uy: '/uy/',
        ec: '/ec/',
        ve: '/ve/',
        pa: '/pa/',
        cr: '/cr/',
        ni: '/ni/',
      };

      function storeRegion(region) {
        try {
          localStorage.setItem(REGION_KEY, region);
        } catch (e) {
          /* ignore localStorage errors */
        }
      }

      function go(region) {
        storeRegion(region);
        window.location.href = routes[region] || '/cl/';
      }

      Object.entries(buttons).forEach(([region, btn]) => {
        if (btn) {
          btn.addEventListener('click', () => go(region));
        }
      });
    })();
  </script>
</body>
</html>
